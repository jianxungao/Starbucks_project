# 星巴克数据分析项目

## 项目简介
理解顾客购买行为，对以提供产品和服务为主要盈利目的大多数企业都是至关重要的。通过对顾客购买行为的分析，可以帮助企业提供更好的产品和服务，进而获取更多的市场竞争优势。那么如何更好的理解顾客的购买行为，一种有效的方式是通过对顾客消费记录进行数据挖掘, 使用机器学习的手段，来**发现**数据背后隐藏的信息。

### 背景
原始数据是Udacity数据科学家项目提供的。Udacity提供的一些模拟 Starbucks rewards 移动 app 上用户行为的数据。这个数据集是从星巴克 app 的真实数据简化而来。此模拟器仅产生了一种饮品，实际上星巴克的饮品有几十种。一般情况下，每隔几天，星巴克会向 app 的用户发送一些推送。

### 数据信息
1. 推送信息，可能仅仅是一条饮品的广告或者是折扣券或 BOGO（买一送一）。一些顾客可能一连几周都收不到任何推送。每种推送都有有效期。例如，买一送一（BOGO）优惠券推送的有效期可能只有 5 天。你会发现数据集中即使是一些消息型的推送都有有效期，哪怕这些推送仅仅是饮品的广告，例如，如果一条消息型推送的有效期是 7 天，你可以认为是该顾客在这 7 天都可能受到这条推送的影响。
2. 交易信息，数据集中还包含 app 上支付的交易信息，交易信息包括购买时间和购买支付的金额。交易信息还包括该顾客收到的推送种类和数量以及看了该推送的时间。顾客做出了购买行为也会产生一条记录。
3. 备注信息，这个数据集里有一些地方需要注意。即，这个推送是自动生效的；顾客收到推送后，即使没有看到，满足了条件，推送的优惠依然能够生效。比如，一个顾客收到了"满10美元减2美元优惠券"的推送，但是该用户在 10 天有效期内从来没有打开看到过它。该顾客在 10 天内累计消费了 15 美元。数据集也会记录他满足了推送的要求，然而，这个顾客并没被受到这个推送的影响，因为他并不知道它的存在。另外，有可能顾客购买了商品，但没有收到或者没有看推送。例如，一个顾客在周一收到了满 10 美元减 2 美元的优惠券推送。这个推送的有效期从收到日算起一共 10 天。如果该顾客在有效日期内的消费累计达到了 10 美元，该顾客就满足了该推送的要求。

### 项目目标
此任务是将交易数据、顾客统计数据和推送数据结合起来判断哪一类人群会受到某种推送的影响。需要考虑到某类人群即使没有收到推送，也会购买的情况。从商业角度出发，如果顾客无论是否收到推送都打算花 10 美元，我们并不希望给他发送满 10 美元减 2 美元的优惠券推送。所以可能需要分析某类人群在没有任何推送的情况下会购买什么。


### 项目工作流
1. 数据清洗
2. 数据汇总
3. 特征抽取
4. 特征工程
5. 机器学习建模


### 顾客聚类分析结果：

10 推送概览：

<img src="./images/10_offers.png" alt="10_offers" width="500">

一般情况：
1. 各个群组的平均年龄比较接近。
2. 群组9平均消费水平和收到的奖励都是最高的一组。
3. 各个群组的平均收入水平也相对接近，群组0，2，6平均收入相对比较低， 群组6的平均收入相对最低。
4. 群组0，2平均消费水平和收到奖励都是最低的两组。
<img src="./images/age_income.png" alt="age_income" width="500">
5. 各个群组的平均会员时间比较接近， 群组6相对较长。
6. 群组0，2，6男性顾客比女性顾客多。群组6的男性顾客为80%，女性为20%。其他组的男性和女性顾客比率比较接近。
<img src="./images/member_gender.png" alt="membership_gender" width="500">

对各种推送：
1. 各个群组收到的各种推送总体而言比较接近。
2. 群组9是推送完成和平均消费最高的一组。
3. 群组0，2完成推送和平均消费都是最低组。
<img src="./images/offer_general.png" alt="offer_general" width="500">

对折扣推送：
1. 群组11完成折扣1推送最高。
2. 群组10完成折扣2推送最高。
3. 群组12完成折扣3推送最高。
4. 群组8完成折扣4推送最高。
5. 群组7是几乎没有收到折扣推送的一组。
6. 群组0和群组2，大约10%顾客完成折扣推送， 是完成折扣推送比率最低的组，说明此二组顾客对折扣推送没有兴趣。
<img src="./images/discount_general.png" alt="discount_general" width="500">

折扣1：
1. 群组7几乎没有收到折扣1的推送。
2. 群组11接收，查看和完成折扣1推送比较高。
<img src="./images/discount_1.png" alt="discount_1" width="500">

折扣2:
1. 群组7几乎没有收到折扣2推送。
2. 群组10接收，查看和完成折扣2推送比较高。
3. 群组0，2，完成折扣2推送比较低。
<img src="./images/discount_2.png" alt="discount_2" width="500">

折扣3:
1. 群组7几乎没有收到此种折扣3推送。
2. 群组12接收，查看和完成折扣3推送比较高。
3. 群组0，2，完成折扣3推送比较低。
<img src="./images/discount_3.png" alt="discount_3" width="500">

折扣4:
1. 群组7几乎没有收到折扣4推送。
2. 群组8接收，查看和完成折扣4推送比较高。
3. 群组0，2，完成折扣4推送比较低。
<img src="./images/discount_4.png" alt="discount_4" width="500">



对买一送一推送：
1. 群组9完成买一送一1和2推送完成最多。
2. 群组3完成买一送一3推送完成最多。
3. 群组5完成买一送一4推送完成最多。
4. 群组7完成4种买一送一推送次多。
5. 群组4，是几乎没有收到买一送一的推送的一组，
6. 群组9，是收到买一送一的推送最多的组，完成此推送的也是最多的。
7. 群组1，3，5，9接收完成比超过75%。说明此4组对买一送一推送比较有兴趣。
8. 群组0，2，6接收并且查看了，但是完成比率较低。 说明此3组对买一送一推送响应度比较低。
<img src="./images/bogo_general.png" alt="bogo_general" width="500">

买一送一1:
1. 群组9完成买一送一1推送完成最多。
2. 群组4几乎没有收到买一送一1推送。
<img src="./images/bogo_1.png" alt="bogo_1" width="500">

买一送一2:
1. 群组9完成买一送一2推送完成最多。
2. 群组4几乎没有收到买一送一2推送。
<img src="./images/bogo_2.png" alt="bogo_2" width="500">

买一送一3:
1. 群组3完成买一送一3推送完成最多。
2. 群组4几乎没有收到买一送一3推送。
<img src="./images/bogo_3.png" alt="bogo_3l" width="500">

买一送一4:
1. 群组5完成买一送一4推送完成最多。
2. 群组4几乎没有收到买一送一4推送。
<img src="./images/bogo_4.png" alt="bogo_4" width="500">


对于信息对推送：
1. 群组0和1接近100%的顾客查看了信息推送，
2. 群组4，7，对信息推送的查看率接近于80%。
3. 其他群组查看率低于40%。
<img src="./images/info_general.png" alt="info_general" width="500">

信息1:
第一类信息较多发送给群组1。
信息2:
第二类信息发送给群组0比较多，群组2几乎没有接收到次类信息推送。
<img src="./images/info.png" alt="info" width="500">